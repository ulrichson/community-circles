<!DOCTYPE html>
<html>
<head>
  <meta charset="utf8">
  <title>Background Service</title>
  <script src="http://localhost/cordova.js"></script>
  <script src="/components/steroids-js/steroids.js"></script>
</head>
<body style="background-color: #000000">
  <p style="color: #ffffff; font-family: sans-serif; margin: auto; text-align: center; padding: 10px">This page is not intended to be visible. Go away, please.</p>
  <script>
    document.addEventListener("deviceready", onDeviceReady, false);

    function onDeviceReady() {   
      console.debug("Background service initializing");
      // Preload static views
      // var moodView = new steroids.views.WebView({location: "/views/mood/index.html", id: "moodView");
      // moodView.preload();
      // new steroids.views.WebView("/views/imprint/index.html").preload();
      // alert("backgroundService");

      // Position watcher
      var positionWatcherId = navigator.geolocation.watchPosition(function(position) {
        console.debug("Received position at " + position.coords.latitude + " " + position.coords.longitude);
        steroids.logger.log("DEBUG - Received position at " + position.coords.latitude + " " + position.coords.longitude);
        window.localStorage.setItem("lastKnownPosition", JSON.stringify(position));
      });
    }
  </script>
</body>
</html>
