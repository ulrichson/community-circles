<div ng-app="contributionApp">
  <div ng-controller="NewCtrl">
    <div class="loading-full" ng-show="loading">
      <i class="fa fa-4x fa-spinner fa-spin fa-inverse"></i>
    </div>
    <div class="contribution-type">
      <div class="btn-group btn-group-justified">
        <a class="btn btn-default" ng-class="{active: contribution.type == 'opinion'}" ng-click="contribution.type = 'opinion'">
          <span class="li_megaphone"></span><br>
          <small>Opinion</small>
        </a>
        <a class="btn btn-default" ng-class="{active: contribution.type == 'poll'}" ng-click="contribution.type = 'poll'">
          <span class="li_bubble"></span><br>
          <small>Poll</small>
        </a>
        <a class="btn btn-default" ng-class="{active: contribution.type == 'issue'}" ng-click="contribution.type = 'issue'">
          <span class="li_fire"></span><br>
          <small>Issue</small>
        </a>
        <a class="btn btn-default" ng-class="{active: contribution.type == 'idea'}" ng-click="contribution.type = 'idea'">
          <span class="li_bulb"></span><br>
          <small>Idea</small>
        </a>
      </div>
    </div>
    <div class="contribution-photo text-center" ng-style="bgImageStyle" ng-class="{darken: imageSrc}">
      <button ng-if="!imageSrc" class="btn btn-primary btn-circle" ng-click="choosePhoto('Which photo should be added?')"><i class="fa fa-3x fa-camera"></i></button>
      <button ng-if="imageSrc" ng-click="removePhoto()" type="button" class="close btn-remove-photo" aria-hidden="true">&times;</button>
      <img ng-if="imageSrc" ng-click="choosePhoto('Do you want to replace your photo?')" src="{{Â imageSrc }}" alt="photo" class="img-circle" width="80" height="80">
    </div>    
    <div class="contribution-meta container">
      <div class="btn-group btn-group-justified">
        <a type="button" class="btn btn-primary" ng-click="choosePoi()">
          <i class="fa fa-map-marker"></i>&nbsp;
          <span ng-if="!contribution.poi">I'm at ...</span>
          <span ng-if="contribution.poi">{{ contribution.poi }}</span>
        <a type="button" class="btn btn-primary" ng-click="chooseMood()">
          <span ng-if="!contribution.mood">feeling ...</span>
          <span ng-if="contribution.mood">{{ contribution.mood.name }}&nbsp;</span><span ng-if="contribution.mood" class="contribution-mood-icon icomatic">{{ contribution.mood.code }}filled</span>
        </a>
      </div>
    </div>
    <div class="contribution-input">
      <form role="form">
        <div class="form-group">
          <input type="text" class="form-control" ng-model="contribution.title" placeholder="Title" />
        </div>
        <div class="form-group">
          <textarea class="form-control" ng-model="contribution.description" rows="3" placeholder="Description"></textarea>
        </div>
      </form>
    </div>
  </div>
</div>