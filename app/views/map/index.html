<div ng-app="mapApp">
  <div ng-controller="IndexCtrl">
    <div class="loading-full" ng-show="loading">
      <i class="fa fa-4x fa-spinner fa-spin fa-inverse"></i>
    </div>
    <div id="map"></div>
    <div class="contribution-detail" ng-show="contributionSelected" ng-swipe-down="hideContributionDetail()">
      <div class="contribution-detail-inner">
        <button type="button" class="contribution-close close" aria-hidden="true" ng-click="hideContributionDetail()"><i class="fa fa-chevron-down"></i></button>
        <div class="text-center">
          <img src="holder.js/500x500/gray/auto" class="contribution-preview-image center-block img-responsive img-circle" alt="{{ contribution.properties.title }}" ng-click="openContribution()">
          <h3 class="contribution-meta">
            {{ contribution.properties.title }}<br />
            <small>by {{ contribution.properties.creator }} <span am-time-ago="contribution.properties.created"></span></small>
          </h3>
          <span class="badge">{{ contribution.properties.area }}&nbsp;km<sup>2</sup></span>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
var contributionsGeoJSON = {
  "type": "FeatureCollection",
  "features": [{
    "type": "Feature",
    "geometry": { "type": "Point", "coordinates": [16.411428451538086, 48.23097650874437] },
    "properties": { "id": 1, "title": "Copa Cagrana", "type": "issue", "mood": "shocked", "radius": 60, "health": 0.7, "community_id": 1, "creator": "ulrichson", "created": "2014-02-17T08:00:00+01:00" }
  }, {
    "type": "Feature",
    "geometry": { "type": "Point", "coordinates": [16.414132118225098, 48.237493968373116] },
    "properties": { "id": 2, "title": "Beautiful park", "type": "opinion", "mood": "overhappy", "radius": 130, "health": 0.2, "community_id": 1, "creator": "ulrichson", "created": "2014-02-17T09:00:00+01:00" }
  }, {
    "type": "Feature",
    "geometry": { "type": "Point", "coordinates": [16.420977115631104, 48.23303474357673] },
    "properties": { "id": 3, "title": "Dirty water", "type": "issue", "mood": "angry", "radius": 250, "health": 0.9, "community_id": 1, "creator": "ulrichson", "created": "2014-02-17T10:00:00+01:00" }
  }, {
    "type": "Feature",
    "geometry": { "type": "Point", "coordinates": [16.412630081176758, 48.233935195282996] },
    "properties": { "id": 4, "title": "Construction site", "type": "poll", "mood": "confused", "radius": 300, "health": 1, "community_id": 1, "creator": "ulrichson", "created": "2014-02-17T12:00:00+01:00" }
  }, {
    "type": "Feature",
    "geometry": { "type": "Point", "coordinates": [16.4171040058136, 48.23096221515749] },
    "properties": { "id": 5, "title": "Dangerous crossroad", "type": "idea", "mood": "intelligent", "radius": 270, "health": 0.1, "community_id": 1, "creator": "ulrichson", "created": "2014-02-17T13:00:00+01:00" }
  }, {
    "type": "Feature",
    "geometry": { "type": "Point", "coordinates": [16.41532, 48.23759] },
    "properties": { "id": 6, "title": "Demo title", "type": "idea", "mood": "overhappy", "radius": 100, "health": 0.9, "community_id": 2, "creator": "ulrichson", "created": "2014-03-17T13:00:00+01:00" }
  }]
}
</script>